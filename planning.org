#+TODO: TODO STARTED | DONE
#+TODO: IDEA BUG | DECLINED RESOLVED
* References
** Testing whether git directory is valid
   Valid git directory can be tested with git-rev-parse
   --git-dir=...
   other scripts simply test for the existence of .git / the name
   ending in .git
** Structure of the test git directory
   =testgitrepos= is a normal subdirectory of the source
   directory under git control. The following states have been
   tagged:

   - firstlevelfiles :: a.txt, b.txt, c.txt with contents a, b, c
        in testgitrepos directory

   - foobarbaztxt :: add foo/bar/baz.txt with contents baz

   - deletebaztxt :: removed foo/bar/baz.txt

   - unicorn :: A picture of a unicorn has been added to test
                links to non-text files.

** Creating a Link type in org mode
   See [[info:org:Adding%20hyperlink%20types][info:org:Adding hyperlink types]] and
#+begin_EXAMPLE
org-add-link-type is a compiled Lisp function in `org.el'.

(org-add-link-type type &optional follow export)

Add type to the list of `org-link-types'.
Re-compute all regular expressions depending on `org-link-types'

follow and export are two functions.

follow should take the link path as the single argument and do whatever
is necessary to follow the link, for example find a file or display
a mail message.

export should format the link path for export to one of the export formats.
It should be a function accepting three arguments:

  path    the path of the link, the text after the prefix (like "http:")
  desc    the description of the link, if any, nil if there was no description
  format  the export format, a symbol like `html' or `latex'.

The function may use the FORMAT information to return different values
depending on the format.  The return value will be put literally into
the exported file.
Org-mode has a built-in default for exporting links.  If you are happy with
this default, there is no need to define an export function for the link
type.  For a simple example of an export function, see `org-bbdb.el'.
#+end_EXAMPLE
** Specifying objects
    :PROPERTIES:
    :ID:       83573d86-8df3-4f56-9927-a917e4b62509
    :END:
    From the man page of git-rev-parse:
#+BEGIN_EXAMPLE
SPECIFYING REVISIONS
       A revision parameter typically, but not necessarily, names a commit
       object. They use what is called an extended SHA1 syntax. Here are
       various ways to spell object names. The ones listed near the end of
       this list are to name trees and blobs contained in a commit.

       Â·   The full SHA1 object name (40-byte hexadecimal string), or a
           substring of such that is unique within the repository. E.g.
           dae86e1950b1277e545cee180551750029cfe735 and dae86e both name the
           same commit object if there are no other object in your repository
           whose object name starts with dae86e.

       Â·   An output from git-describe; i.e. a closest tag, optionally
           followed by a dash and a number of commits, followed by a dash, a
           g, and an abbreviated object name.

       Â·   A symbolic ref name. E.g. master typically means the commit object
           referenced by $GIT_DIR/refs/heads/master. If you happen to have
           both heads/master and tags/master, you can explicitly say
           heads/master to tell git which one you mean. When ambiguous, a
           <name> is disambiguated by taking the first match in the following
           rules:

            1.  if $GIT_DIR/<name> exists, that is what you mean (this is
               usually useful only for HEAD, FETCH_HEAD, ORIG_HEAD and
               MERGE_HEAD);

            2.  otherwise, $GIT_DIR/refs/<name> if exists;

            3.  otherwise, $GIT_DIR/refs/tags/<name> if exists;

            4.  otherwise, $GIT_DIR/refs/heads/<name> if exists;

            5.  otherwise, $GIT_DIR/refs/remotes/<name> if exists;

            6.  otherwise, $GIT_DIR/refs/remotes/<name>/HEAD if exists.

               HEAD names the commit your changes in the working tree is based
               on. FETCH_HEAD records the branch you fetched from a remote
               repository with your last git-fetch invocation. ORIG_HEAD is
               created by commands that moves your HEAD in a drastic way, to
               record the position of the HEAD before their operation, so that
               you can change the tip of the branch back to the state before
               you ran them easily. MERGE_HEAD records the commit(s) you are
               merging into your branch when you run git-merge.

       Â·   A ref followed by the suffix @ with a date specification enclosed
           in a brace pair (e.g. {yesterday}, {1 month 2 weeks 3 days 1 hour 1
           second ago} or {1979-02-26 18:30:00}) to specify the value of the
           ref at a prior point in time. This suffix may only be used
           immediately following a ref name and the ref must have an existing
           log ($GIT_DIR/logs/<ref>). Note that this looks up the state of
           your local ref at a given time; e.g., what was in your local master
           branch last week. If you want to look at commits made during
           certain times, see --since and --until.

       Â·   A ref followed by the suffix @ with an ordinal specification
           enclosed in a brace pair (e.g. {1}, {15}) to specify the n-th prior
           value of that ref. For example master@{1} is the immediate prior
           value of master while master@{5} is the 5th prior value of master.
           This suffix may only be used immediately following a ref name and
           the ref must have an existing log ($GIT_DIR/logs/<ref>).

       Â·   You can use the @ construct with an empty ref part to get at a
           reflog of the current branch. For example, if you are on the branch
           blabla, then @{1} means the same as blabla@{1}.

       Â·   A suffix ^ to a revision parameter means the first parent of that
           commit object. ^<n> means the <n>th parent (i.e. rev^ is equivalent
           to rev^1). As a special rule, rev^0 means the commit itself and is
           used when rev is the object name of a tag object that refers to a
           commit object.

       Â·   A suffix ~<n> to a revision parameter means the commit object that
           is the <n>th generation grand-parent of the named commit object,
           following only the first parent. I.e. rev~3 is equivalent to rev^^^
           which is equivalent to rev^1^1^1. See below for a illustration of
           the usage of this form.

       Â·   A suffix ^ followed by an object type name enclosed in brace pair
           (e.g. v0.99.8^{commit}) means the object could be a tag, and
           dereference the tag recursively until an object of that type is
           found or the object cannot be dereferenced anymore (in which case,
           barf). rev^0 introduced earlier is a short-hand for rev^{commit}.

       Â·   A suffix ^ followed by an empty brace pair (e.g. v0.99.8^{}) means
           the object could be a tag, and dereference the tag recursively
           until a non-tag object is found.

       Â·   A colon, followed by a slash, followed by a text: this names a
           commit whose commit message starts with the specified text. This
           name returns the youngest matching commit which is reachable from
           any ref. If the commit message starts with a !, you have to repeat
           that; the special sequence :/!, followed by something else than !
           is reserved for now.

       Â·   A suffix : followed by a path; this names the blob or tree at the
           given path in the tree-ish object named by the part before the
           colon.

       Â·   A colon, optionally followed by a stage number (0 to 3) and a
           colon, followed by a path; this names a blob object in the index at
           the given path. Missing stage number (and the colon that follows
           it) names a stage 0 entry. During a merge, stage 1 is the common
           ancestor, stage 2 is the target branchÂ´s version (typically the
           current branch), and stage 3 is the version from the branch being
           merged.
       Here is an illustration, by Jon Loeliger. Both commit nodes B and C are
       parents of commit node A. Parent commits are ordered left-to-right.

           G   H   I   J
            \ /     \ /
             D   E   F
              \  |  / \
               \ | /   |
                \|/    |
                 B     C
                  \   /
                   \ /
                    A

           A =      = A^0
           B = A^   = A^1     = A~1
           C = A^2  = A^2
           D = A^^  = A^1^1   = A~2
           E = B^2  = A^^2
           F = B^3  = A^^3
           G = A^^^ = A^1^1^1 = A~3
           H = D^2  = B^^2    = A^^^2  = A~2^2
           I = F^   = B^3^    = A^^3^
           J = F^2  = B^3^2   = A^^3^2
#+END_EXAMPLE

** Viewing a specific version of a file in git:
    From the [[http://git.or.cz/gitwiki/GitFaq#Howtoviewanoldrevisionofafileordirectory.3F][Git FAQ]]:
#+begin_EXAMPLE
How to view an old revision of a file or directory?

Use command "git show" with a colon and filename:

git show <commit>:path/file

The <commit> can be commit id, branch name, tag, relative pointer
like HEAD~2 etc. If you don't give any path or file (i.e. just
<commit>:), git will display the file listing of repository's
root directory. Examples:

git show v1.4.3:git.c
git show f5f75c652b9c2347522159a87297820103e593e4:git.c
git show HEAD~2:git.c
git show master~4:
git show master~4:doc/
git show master~4:doc/ChangeLog
#+end_EXAMPLE
** Finding out the current branch name
   #+BEGIN_EXAMPLE
   git finken@larissa:~/test/org-git-link (0)$ git symbolic-ref HEAD
   refs/heads/documentation
   #+END_EXAMPLE
   From magit.el:
   #+BEGIN_SRC emacs-lisp
     (defun magit-get-ref (ref)
       (magit-git-string "symbolic-ref" "-q" ref))

     (defun magit-get-current-branch ()
       (let* ((head (magit-get-ref "HEAD"))
              (pos (and head (string-match "^refs/heads/" head))))
         (if pos
             (substring head 11)
           nil)))
   #+END_SRC
*** Find out currently checked out branch

    Source: [2009-10-21 Wed], [[http://stackoverflow.com/questions/1593051/how-to-programmatically-determine-the-current-checked-out-git-branch][How to programmatically determine the current checked out Git branch - Stack Overflow]]

    In a Unix or GNU scripting
    environment (e.g. a Linux distro, Cygwin, OSX), what is the
    best way to determine which Git branch is currently checked out
    in a working directory? One use of this technique would be
    automatically labeling a release (like svnversion would do with
    Subversion). Please also see my related question: How to
    programmatically determine whether a Git checkout is a tag, and
    if so what is the tag name?

    The correct solution is to take a peek at
    contrib/completions/git-completion.bash does that for bash
    prompt in __git_ps1. Removing all extras like selecting how to
    describe detached HEAD situation, i.e. when we are on unnamed
    branch, it is: branch_name="$(git symbolic-ref HEAD
    2>/dev/null)" || branch_name="(unnamed branch)" # detached HEAD
    branch_name=${branch_name##refs/heads/} git symbolic-ref is
    used to extract fully qualified branch name from symbolic
    reference; we use it for HEAD, which is currently checked out
    branch. Alternate solution could be: branch_name=$(git
    symbolic-ref -q HEAD) branch_name=${branch_name##refs/heads/}
    branch_name=${branch_name:-HEAD} where in last line we deal
    with the detached HEAD situation, using simply "HEAD" to denote
    such situation.
* Implementation
  - [[file:org-git-link.el][Source file]]
  - [[file:test/test-git-link.el][Test file]]
* Sandbox:
  [[gitbare:.git::deletebaztxt:test/testgitrepos/b.txt]]
  [[gitbare:.git:::test/testgitrepos/unicorn.png][unicorn]]
  [[git:test/testgitrepos/unicorn.png::]]
  [[gitbare:.git:::/Add]]
  [[git:org-git-link.org::master@{3.10.2009}]]

* Tasks:
** BUG org-git-link messes up org-remember when remembering non-file buffers
   :PROPERTIES:
   :ID:       a1b5ff42-8230-43b9-997d-dac8fc0fb383
   :END:
   e.g hit f-7 (<f7> runs the command org-remember) from a gnus
   *Summary* buffer
#+begin_example
Debugger entered--Lisp error: (wrong-type-argument stringp nil)
  string-match("^/tmp_mnt/" nil)
  abbreviate-file-name(nil)
  (let ((file ...)) (when (org-git-gitrepos-p file) (org-store-link-props :type "git" :link ...)))
  org-git-store-link()
  run-hook-with-args-until-success(org-git-store-link)
  org-store-link(nil)
  org-remember-annotation()
  run-hook-with-args-until-success(org-remember-annotation)
  remember(nil)
  org-do-remember()
  org-remember(nil)
  call-interactively(org-remember nil nil)
  recursive-edit()
  byte-code("Æ	@Ç=ƒ! ÈÉÊ\"ˆËÉ!‰A@)¢Ì=ƒ! ÈÍÊ\"ˆÎ!ˆÏ ˆÐ	!ˆ\fƒd Ñed\"VƒW ebˆÒ¥yˆ`dbˆÒ¥Zyˆ`|ˆ)ÓcˆebˆÔÕÖ \"ˆ×Æ!ˆÔØ!ˆÙÊÔØ!ˆŠÚ ˆ+Ù‡" [unread-command-char debugger-args x debugger-buffer noninteractive debugger-batch-max-lines -1 debug backtrace-debug 4 t backtrace-frame lambda 5 pop-to-buffer debugger-mode debugger-setup-buffer count-lines 2 "...\n" message "%s" buffer-string kill-emacs "" nil recursive-edit middlestart buffer-read-only standard-output] 4)
  debug(error (wrong-type-argument stringp nil))
  string-match("^/tmp_mnt/" nil)
  abbreviate-file-name(nil)
  (let ((file ...)) (when (org-git-gitrepos-p file) (org-store-link-props :type "git" :link ...)))
  org-git-store-link()
  run-hook-with-args-until-success(org-git-store-link)
  org-store-link(nil)
  org-remember-annotation()
  run-hook-with-args-until-success(org-remember-annotation)
  remember(#("Path: news.gmane.org!not-for-mail\nFrom: Sturla Molden <sturla@molden.no>\nNewsgroups: gmane.comp.python.scientific.user\nSubject: Re: linear algebra: quadratic forms without linalg.inv\nDate: Mon, 02 Nov 2009 10:37:26 +0100\nLines: 114\nApproved: news@gmane.org\nMessage-ID: <4AEEA856.2060109@molden.no>\nReferences: <1cd32cbb0911011745p64a447fjcd14adee13ecb58a@mail.gmail.com>	<4AEE4BF2.4060403@molden.no>	<1cd32cbb0911011925x78e852b4l92c9545d2044df98@mail.gmail.com>	<4AEE6116.6070602@molden.no>	<1cd32cbb0911012115r35cdcc8el46fc8491c5a22bb4@mail.gmail.com>	<3d375d730911012119t2d8d64d5qad3a7c048e5ec36a@mail.gmail.com>\n	<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>\nReply-To: SciPy Users List <scipy-user@scipy.org>\nNNTP-Posting-Host: lo.gmane.org\nMime-Version: 1.0\nContent-Type: text/plain; charset=\"us-ascii\"\nContent-Transfer-Encoding: 7bit\nX-Trace: ger.gmane.org 1257154732 9554 80.91.229.12 (2 Nov 2009 09:38:52 GMT)\nX-Complaints-To: usenet@ger.gmane.org\nNNTP-Posting-Date: Mon, 2 Nov 2009 09:38:52 +0000 (UTC)\nTo: SciPy Users List <scipy-user@scipy.org>\nOriginal-X-From: scipy-user-bounces@scipy.org Mon Nov 02 10:38:40 2009\nReturn-path: <scipy-user-bounces@scipy.org>\nEnvelope-to: gcpsu-scipy-user@m.gmane.org\nOriginal-Received: from scipy.org ([216.62.213.231])\n	by lo.gmane.org with esmtp (Exim 4.50)\n	id 1N4tN1-00039D-AA\n	for gcpsu-scipy-user@m.gmane.org; Mon, 02 Nov 2009 10:38:39 +0100\nOriginal-Received: from scipy.org (localhost.localdomain [127.0.0.1])\n	by scipy.org (Postfix) with ESMTP id 7F9D839C7E1;\n	Mon,  2 Nov 2009 03:37:56 -0600 (CST)\nX-Original-To: scipy-user@scipy.org\nDelivered-To: scipy-user-scipy.org@scipy.org\nX-Greylist: whitelisted by SQLgrey-1.6.8\nOriginal-Received: from mail-forward1.uio.no (mail-forward1.uio.no [129.240.10.70])\n	by scipy.org (Postfix) with ESMTP id 3EF1E39C7DF\n	for <scipy-user@scipy.org>; Mon,  2 Nov 2009 03:37:33 -0600 (CST)\nOriginal-Received: from exim by mail-out1.uio.no with local-bsmtp (Exim 4.69)\n	(envelope-from <sturla@molden.no>) id 1N4tLx-0006T5-0T\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:33 +0100\nOriginal-Received: from mail-mx4.uio.no ([129.240.10.45])\n	by mail-out1.uio.no with esmtp (Exim 4.69)\n	(envelope-from <sturla@molden.no>) id 1N4tLw-0006T2-Tg\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:32 +0100\nOriginal-Received: from 203-83-9.connect.netcom.no ([89.9.83.203])\n	by mail-mx4.uio.no with esmtpsa (TLSv1:AES256-SHA:256)\n	user sturlamo (Exim 4.69) (envelope-from <sturla@molden.no>)\n	id 1N4tLt-0007Cg-PE\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:32 +0100\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\nIn-Reply-To: <1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>\nX-UiO-Ratelimit-Test: rcpts/h 1 msgs/h 1 sum rcpts/h 4 sum msgs/h 4 total rcpts 322 max rcpts/h 14 ratelimit 0\nX-UiO-Spam-info: not spam, SpamAssassin (score=-5.0, required=5.0, autolearn=disabled, UIO_MAIL_IS_INTERNAL=-5, uiobl=NO, uiouri=NO)\nX-UiO-Scanned: 52B2E4F47FC8277CB16C7A890A01F8A65D6BCFEA\nX-UiO-SPAM-Test: remote_host: 89.9.83.203 spam_score: -49 maxlevel 80 minaction 2 bait 0 blacklist 0 greylist 0 ratelimit 0\nX-BeenThere: scipy-user@scipy.org\nX-Mailman-Version: 2.1.8\nPrecedence: list\nList-Id: SciPy Users List <scipy-user.scipy.org>\nList-Unsubscribe: <http://mail.scipy.org/mailman/listinfo/scipy-user>, <mailto:scipy-user-request@scipy.org?subject=unsubscribe>\nList-Archive: <http://mail.scipy.org/pipermail/scipy-user>\nList-Post: <mailto:scipy-user@scipy.org>\nList-Help: <mailto:scipy-user-request@scipy.org?subject=help>\nList-Subscribe: <http://mail.scipy.org/mailman/listinfo/scipy-user>, <mailto:scipy-user-request@scipy.org?subject=subscribe>\nOriginal-Sender: scipy-user-bounces@scipy.org\nErrors-To: scipy-user-bounces@scipy.org\nXref: news.gmane.org gmane.comp.python.scientific.user:22682\nArchived-At: <http://permalink.gmane.org/gmane.comp.python.scientific.user/22682>\n\njosef.pktd@gmail.com skrev:\n> Good, I didn't realize this when I worked on the eig and svd versions of\n> the pca. In a similar way, I was initially puzzled that pinv can be used\n> on the data matrix or on the covariance matrix (only the latter I have seen\n> in books).\n>\n>   \n\nI'll try to explain... If you have a matrix C, you can factorize like \nthis, with Sigma being a diagonal matrix:\n\n   C = U * Sigma * V'\n\n   >>> u,s,vt = np.linalg.svd(c)\n\nIf C is square (rank n x n), we now have the inverse\n\n   C**-1 = V * [S**-1] * U'\n\n   >>> c_inv = np.mat(vt.T) * np.mat(np.eye(4)/s) * np.mat(u.T)\n\nAnd here you have the pathology diagnosis:\n\nA small value of s, will cause a huge value of 1/s. This is \n\"ill-conditioning\" that e.g. happens with multicolinearity. You get a \nsmall s, you divide by it, and rounding error skyrockets. We can improve \nthe situation by editing the tiny values in Sigma to zero. That just \nchanges C by a tiny amount, but might have a dramatic stabilizing effect \non C**-1. Now you can do your LU and not worry. It might not be clear \nfrom statistics textbooks why multicolinearity is problem. But using \nSVD, we see both the problem and the solution very clearly: A small \nsingular value might not contribute significantly to C, but could or \nseverly affect or even dominate in C**-1. We can thus get a biased but \nnumerically better approximation to C**-1 by deleting it from the \nequation. So after editing s, we could e.g. do:\n\n   >>> c_fixed = np.mat(u) * np.mat(np.eye(4)*s) * np.mat(vt)\n\nand continue with LU on c_fixed to get the quadratic form.\n\nAlso beware that you can solve\n\n   C * x = b\n\nlike this\n\n   x = (V * [S**-1]) * (U' * b)\n\nBut if we are to reapeat this for several values of b, it would make \nmore sence to reconstruct C and go for the LU. Soving with LU also \ninvolves two matrix multiplications:\n\n   L * y = b\n   U * x = y\n \nbut the computational demand is reduced by the triangular structure of L \nand U.\n\nPlease don't say you'd rather preprocess data with a PCA. If C was a \ncovariance matrix, we just threw out the smallest principal components \nout of the data. Deleting tiny singular values is in fact why PCA helps!\n\nAlso beware that\n\n   pca = lambda x : np.linalg.svd(x-x.mean(axis=0), full_matrices=0)\n\nSo we can get PCA from SVD without even calculating the covariance. Now \nyou have the standard deviations in Sigma, the principal components in \nV, and the factor loadings in U. SVD is how PCA is usually computed. It \nis better than estimating Cov(X), and then apply Jacobi rotations to get \nthe eigenvalues and eigenvectors of  Cov(X). One reason is that Cov(X) \nshould be estimated using a \"two-pass algorithm\" to cancel accumulating \nrounding error (Am Stat, 37: p.  242-247). But that equation is not \nshown in most statistics textbooks, so most practitioners tend to not \nknow of it . \nWe can solve the common least squares problem using an SVD:\n \n   b = argmin { || X * b - Y  ||  **  2 }\n\nIf we do an SVD of X, we can compute\n\n   b = sum( ((u[i,:] * Y )/s[i]) * vt[:,i].T )\n\nUnlike the other methods of fitting least squares, this one cannot fail. \nAnd you also see clearly what a PCA will do:\n\n   Skip \"(u[i,:] * Y )/s[i]\" for too small values of s[i]\n\nSo you can preprocess with PCA anf fit LS in one shot. \n\nRidge-regression (Tychonov regularization) is another solution to the \nmulticollinearity problem:\n\n    (A'A + lambda*I)*x = A'b\n\nBut how would you choose the numerically optimal value of lambda? It \nturns out to be a case of SVD as well. Goloub & van Loan has that on \npage 583.\n\nQR with column pivoting can be seen as a case of SVD. Many use this for \nleast-squares, not even knowing it is SVD. So SVD is ubiquitous in data \nmodelling, even if you don't know it. :-)\n\nOne more thing: The Cholesky factorization is always stabile, the LU is \nnot. But don't be fooled: This only applies to the facotization itself. \nIf you have multicolinearity, the problem is there even if you use \nCholesky. You get the \"singular value disease\" (astronomic rounding \nerror) when you solve the triangular system. A Cholesky can tell you if \na covariance matrix is singular at your numerical precision. An SVD can \ntell you how close to singularity it is, and how to fix it. SVD comes at \na cost, which is  slower  computation. But usually it is worth the extra \ninvestment in CPU cycles.\n\nSturla Molden\n" 0 5 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 5 33 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 33 34 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 34 39 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 39 40 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-from) 40 72 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-from mouse-face highlight gnus-callback gnus-button-reply gnus-data #("Sturla Molden <sturla@molden.no>" 0 32 ...)) 72 73 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 73 84 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 84 118 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 118 119 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 119 127 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 127 182 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-subject) 182 183 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 183 188 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 188 220 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 220 221 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 221 227 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 227 231 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 231 232 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 232 241 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 241 256 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 256 257 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 257 268 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 268 269 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 269 297 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEEA856.2060109@molden.no>" 0 28 ...)) 297 298 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 298 309 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 309 310 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 310 370 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911011745p64a447fjcd14adee13ecb58a@mail.gmail.com>" 0 60 ...)) 370 371 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 371 399 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEE4BF2.4060403@molden.no>" 0 28 ...)) 399 400 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 400 461 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911011925x78e852b4l92c9545d2044df98@mail.gmail.com>" 0 61 ...)) 461 462 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 462 490 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEE6116.6070602@molden.no>" 0 28 ...)) 490 491 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 491 552 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012115r35cdcc8el46fc8491c5a22bb4@mail.gmail.com>" 0 61 ...)) 552 553 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 553 614 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<3d375d730911012119t2d8d64d5qad3a7c048e5ec36a@mail.gmail.com>" 0 61 ...)) 614 616 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 616 677 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>" 0 61 ...)) 677 678 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 678 687 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 687 688 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 688 727 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-reply gnus-data #("SciPy Users List <scipy-user@scipy.org>" 0 39 ...)) 727 728 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 728 746 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 746 759 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 759 760 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 760 773 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 773 777 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 777 778 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 778 791 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 791 822 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 822 823 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 823 849 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 849 854 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 854 855 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 855 863 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 863 932 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 932 933 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 933 949 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 949 970 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 970 971 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 971 989 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 989 1026 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1026 1027 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1027 1030 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1030 1049 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1049 1069 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-msg-mail gnus-data #("scipy-user@scipy.org" 0 20 ...)) 1069 1070 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1070 1071 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1071 1087 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1087 1141 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1141 1142 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1142 1154 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1154 1185 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1185 1186 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1186 1198 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1198 1227 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1227 1228 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1228 1246 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1246 1408 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1408 1409 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1409 1427 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1427 1568 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1568 1569 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1569 1583 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1583 1604 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1604 1605 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1605 1618 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1618 1649 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1649 1650 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1650 1661 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1661 1690 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1690 1691 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1691 1709 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1709 1891 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1891 1892 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1892 1910 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1910 2084 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2084 2085 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2085 2103 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2103 2301 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2301 2302 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2302 2320 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2320 2566 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2566 2567 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2567 2578 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2578 2618 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2618 2619 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2619 2631 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2631 2632 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2632 2693 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>" 0 61 ...)) 2693 2694 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2694 2715 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2715 2767 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2767 2768 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2768 2804 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2804 2805 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2805 2821 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2821 2871 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2871 2872 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2872 2926 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2926 2927 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2927 2937 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2937 2938 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2938 2952 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2952 2993 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2993 2994 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2994 3010 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3010 3063 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3063 3064 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3064 3117 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3117 3118 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3118 3130 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3130 3151 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3151 3152 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3152 3170 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3170 3176 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3176 3177 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3177 3188 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3188 3193 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3193 3194 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3194 3202 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3202 3242 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3242 3243 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3243 3260 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3260 3262 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3262 3311 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/mailman/listinfo/scipy-user" 0 49 ...)) 3311 3313 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3313 3314 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3314 3315 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3315 3370 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=unsubscribe" 0 48 ...)) 3370 3371 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3371 3372 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3372 3385 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3385 3387 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3387 3429 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/pipermail/scipy-user" 0 42 ...)) 3429 3430 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3430 3431 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3431 3441 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3441 3443 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3443 3470 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user@scipy.org" 0 20 ...)) 3470 3471 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3471 3472 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3472 3482 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3482 3484 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3484 3532 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=help" 0 41 ...)) 3532 3533 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3533 3534 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3534 3549 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3549 3551 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3551 3600 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/mailman/listinfo/scipy-user" 0 49 ...)) 3600 3602 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3602 3603 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3603 3604 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3604 3657 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=subscribe" 0 46 ...)) 3657 3658 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3658 3659 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3659 3675 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3675 3704 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3704 3705 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3705 3715 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3715 3744 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3744 3745 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3745 3750 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3750 3805 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3805 3806 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3806 3818 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3818 3820 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3820 3886 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://permalink.gmane.org/gmane.comp.python.scientific.user/22682" 0 66 ...)) 3886 3887 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3887 3888 (face gnus-header-content) 3889 3909 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 4457 4467 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 5383 5393 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 7632 7635 (display (image :type xpm :file "/usr/share/emacs/23.1/etc/images/smilies/smile.xpm" :ascent center) rear-nonsticky (display) gnus-image-category smiley)))
  org-do-remember(#("Path: news.gmane.org!not-for-mail\nFrom: Sturla Molden <sturla@molden.no>\nNewsgroups: gmane.comp.python.scientific.user\nSubject: Re: linear algebra: quadratic forms without linalg.inv\nDate: Mon, 02 Nov 2009 10:37:26 +0100\nLines: 114\nApproved: news@gmane.org\nMessage-ID: <4AEEA856.2060109@molden.no>\nReferences: <1cd32cbb0911011745p64a447fjcd14adee13ecb58a@mail.gmail.com>	<4AEE4BF2.4060403@molden.no>	<1cd32cbb0911011925x78e852b4l92c9545d2044df98@mail.gmail.com>	<4AEE6116.6070602@molden.no>	<1cd32cbb0911012115r35cdcc8el46fc8491c5a22bb4@mail.gmail.com>	<3d375d730911012119t2d8d64d5qad3a7c048e5ec36a@mail.gmail.com>\n	<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>\nReply-To: SciPy Users List <scipy-user@scipy.org>\nNNTP-Posting-Host: lo.gmane.org\nMime-Version: 1.0\nContent-Type: text/plain; charset=\"us-ascii\"\nContent-Transfer-Encoding: 7bit\nX-Trace: ger.gmane.org 1257154732 9554 80.91.229.12 (2 Nov 2009 09:38:52 GMT)\nX-Complaints-To: usenet@ger.gmane.org\nNNTP-Posting-Date: Mon, 2 Nov 2009 09:38:52 +0000 (UTC)\nTo: SciPy Users List <scipy-user@scipy.org>\nOriginal-X-From: scipy-user-bounces@scipy.org Mon Nov 02 10:38:40 2009\nReturn-path: <scipy-user-bounces@scipy.org>\nEnvelope-to: gcpsu-scipy-user@m.gmane.org\nOriginal-Received: from scipy.org ([216.62.213.231])\n	by lo.gmane.org with esmtp (Exim 4.50)\n	id 1N4tN1-00039D-AA\n	for gcpsu-scipy-user@m.gmane.org; Mon, 02 Nov 2009 10:38:39 +0100\nOriginal-Received: from scipy.org (localhost.localdomain [127.0.0.1])\n	by scipy.org (Postfix) with ESMTP id 7F9D839C7E1;\n	Mon,  2 Nov 2009 03:37:56 -0600 (CST)\nX-Original-To: scipy-user@scipy.org\nDelivered-To: scipy-user-scipy.org@scipy.org\nX-Greylist: whitelisted by SQLgrey-1.6.8\nOriginal-Received: from mail-forward1.uio.no (mail-forward1.uio.no [129.240.10.70])\n	by scipy.org (Postfix) with ESMTP id 3EF1E39C7DF\n	for <scipy-user@scipy.org>; Mon,  2 Nov 2009 03:37:33 -0600 (CST)\nOriginal-Received: from exim by mail-out1.uio.no with local-bsmtp (Exim 4.69)\n	(envelope-from <sturla@molden.no>) id 1N4tLx-0006T5-0T\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:33 +0100\nOriginal-Received: from mail-mx4.uio.no ([129.240.10.45])\n	by mail-out1.uio.no with esmtp (Exim 4.69)\n	(envelope-from <sturla@molden.no>) id 1N4tLw-0006T2-Tg\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:32 +0100\nOriginal-Received: from 203-83-9.connect.netcom.no ([89.9.83.203])\n	by mail-mx4.uio.no with esmtpsa (TLSv1:AES256-SHA:256)\n	user sturlamo (Exim 4.69) (envelope-from <sturla@molden.no>)\n	id 1N4tLt-0007Cg-PE\n	for scipy-user@scipy.org; Mon, 02 Nov 2009 10:37:32 +0100\nUser-Agent: Thunderbird 2.0.0.23 (Windows/20090812)\nIn-Reply-To: <1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>\nX-UiO-Ratelimit-Test: rcpts/h 1 msgs/h 1 sum rcpts/h 4 sum msgs/h 4 total rcpts 322 max rcpts/h 14 ratelimit 0\nX-UiO-Spam-info: not spam, SpamAssassin (score=-5.0, required=5.0, autolearn=disabled, UIO_MAIL_IS_INTERNAL=-5, uiobl=NO, uiouri=NO)\nX-UiO-Scanned: 52B2E4F47FC8277CB16C7A890A01F8A65D6BCFEA\nX-UiO-SPAM-Test: remote_host: 89.9.83.203 spam_score: -49 maxlevel 80 minaction 2 bait 0 blacklist 0 greylist 0 ratelimit 0\nX-BeenThere: scipy-user@scipy.org\nX-Mailman-Version: 2.1.8\nPrecedence: list\nList-Id: SciPy Users List <scipy-user.scipy.org>\nList-Unsubscribe: <http://mail.scipy.org/mailman/listinfo/scipy-user>, <mailto:scipy-user-request@scipy.org?subject=unsubscribe>\nList-Archive: <http://mail.scipy.org/pipermail/scipy-user>\nList-Post: <mailto:scipy-user@scipy.org>\nList-Help: <mailto:scipy-user-request@scipy.org?subject=help>\nList-Subscribe: <http://mail.scipy.org/mailman/listinfo/scipy-user>, <mailto:scipy-user-request@scipy.org?subject=subscribe>\nOriginal-Sender: scipy-user-bounces@scipy.org\nErrors-To: scipy-user-bounces@scipy.org\nXref: news.gmane.org gmane.comp.python.scientific.user:22682\nArchived-At: <http://permalink.gmane.org/gmane.comp.python.scientific.user/22682>\n\njosef.pktd@gmail.com skrev:\n> Good, I didn't realize this when I worked on the eig and svd versions of\n> the pca. In a similar way, I was initially puzzled that pinv can be used\n> on the data matrix or on the covariance matrix (only the latter I have seen\n> in books).\n>\n>   \n\nI'll try to explain... If you have a matrix C, you can factorize like \nthis, with Sigma being a diagonal matrix:\n\n   C = U * Sigma * V'\n\n   >>> u,s,vt = np.linalg.svd(c)\n\nIf C is square (rank n x n), we now have the inverse\n\n   C**-1 = V * [S**-1] * U'\n\n   >>> c_inv = np.mat(vt.T) * np.mat(np.eye(4)/s) * np.mat(u.T)\n\nAnd here you have the pathology diagnosis:\n\nA small value of s, will cause a huge value of 1/s. This is \n\"ill-conditioning\" that e.g. happens with multicolinearity. You get a \nsmall s, you divide by it, and rounding error skyrockets. We can improve \nthe situation by editing the tiny values in Sigma to zero. That just \nchanges C by a tiny amount, but might have a dramatic stabilizing effect \non C**-1. Now you can do your LU and not worry. It might not be clear \nfrom statistics textbooks why multicolinearity is problem. But using \nSVD, we see both the problem and the solution very clearly: A small \nsingular value might not contribute significantly to C, but could or \nseverly affect or even dominate in C**-1. We can thus get a biased but \nnumerically better approximation to C**-1 by deleting it from the \nequation. So after editing s, we could e.g. do:\n\n   >>> c_fixed = np.mat(u) * np.mat(np.eye(4)*s) * np.mat(vt)\n\nand continue with LU on c_fixed to get the quadratic form.\n\nAlso beware that you can solve\n\n   C * x = b\n\nlike this\n\n   x = (V * [S**-1]) * (U' * b)\n\nBut if we are to reapeat this for several values of b, it would make \nmore sence to reconstruct C and go for the LU. Soving with LU also \ninvolves two matrix multiplications:\n\n   L * y = b\n   U * x = y\n \nbut the computational demand is reduced by the triangular structure of L \nand U.\n\nPlease don't say you'd rather preprocess data with a PCA. If C was a \ncovariance matrix, we just threw out the smallest principal components \nout of the data. Deleting tiny singular values is in fact why PCA helps!\n\nAlso beware that\n\n   pca = lambda x : np.linalg.svd(x-x.mean(axis=0), full_matrices=0)\n\nSo we can get PCA from SVD without even calculating the covariance. Now \nyou have the standard deviations in Sigma, the principal components in \nV, and the factor loadings in U. SVD is how PCA is usually computed. It \nis better than estimating Cov(X), and then apply Jacobi rotations to get \nthe eigenvalues and eigenvectors of  Cov(X). One reason is that Cov(X) \nshould be estimated using a \"two-pass algorithm\" to cancel accumulating \nrounding error (Am Stat, 37: p.  242-247). But that equation is not \nshown in most statistics textbooks, so most practitioners tend to not \nknow of it . \nWe can solve the common least squares problem using an SVD:\n \n   b = argmin { || X * b - Y  ||  **  2 }\n\nIf we do an SVD of X, we can compute\n\n   b = sum( ((u[i,:] * Y )/s[i]) * vt[:,i].T )\n\nUnlike the other methods of fitting least squares, this one cannot fail. \nAnd you also see clearly what a PCA will do:\n\n   Skip \"(u[i,:] * Y )/s[i]\" for too small values of s[i]\n\nSo you can preprocess with PCA anf fit LS in one shot. \n\nRidge-regression (Tychonov regularization) is another solution to the \nmulticollinearity problem:\n\n    (A'A + lambda*I)*x = A'b\n\nBut how would you choose the numerically optimal value of lambda? It \nturns out to be a case of SVD as well. Goloub & van Loan has that on \npage 583.\n\nQR with column pivoting can be seen as a case of SVD. Many use this for \nleast-squares, not even knowing it is SVD. So SVD is ubiquitous in data \nmodelling, even if you don't know it. :-)\n\nOne more thing: The Cholesky factorization is always stabile, the LU is \nnot. But don't be fooled: This only applies to the facotization itself. \nIf you have multicolinearity, the problem is there even if you use \nCholesky. You get the \"singular value disease\" (astronomic rounding \nerror) when you solve the triangular system. A Cholesky can tell you if \na covariance matrix is singular at your numerical precision. An SVD can \ntell you how close to singularity it is, and how to fix it. SVD comes at \na cost, which is  slower  computation. But usually it is worth the extra \ninvestment in CPU cycles.\n\nSturla Molden\n" 0 5 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 5 33 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 33 34 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 34 39 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 39 40 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-from) 40 72 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-from mouse-face highlight gnus-callback gnus-button-reply gnus-data #("Sturla Molden <sturla@molden.no>" 0 32 ...)) 72 73 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 73 84 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 84 118 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 118 119 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 119 127 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 127 182 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-subject) 182 183 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 183 188 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 188 220 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 220 221 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 221 227 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 227 231 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 231 232 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 232 241 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 241 256 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 256 257 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 257 268 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 268 269 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 269 297 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEEA856.2060109@molden.no>" 0 28 ...)) 297 298 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 298 309 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 309 310 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 310 370 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911011745p64a447fjcd14adee13ecb58a@mail.gmail.com>" 0 60 ...)) 370 371 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 371 399 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEE4BF2.4060403@molden.no>" 0 28 ...)) 399 400 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 400 461 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911011925x78e852b4l92c9545d2044df98@mail.gmail.com>" 0 61 ...)) 461 462 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 462 490 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<4AEE6116.6070602@molden.no>" 0 28 ...)) 490 491 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 491 552 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012115r35cdcc8el46fc8491c5a22bb4@mail.gmail.com>" 0 61 ...)) 552 553 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 553 614 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<3d375d730911012119t2d8d64d5qad3a7c048e5ec36a@mail.gmail.com>" 0 61 ...)) 614 616 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 616 677 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>" 0 61 ...)) 677 678 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 678 687 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 687 688 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 688 727 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-reply gnus-data #("SciPy Users List <scipy-user@scipy.org>" 0 39 ...)) 727 728 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 728 746 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 746 759 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 759 760 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 760 773 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 773 777 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 777 778 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 778 791 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 791 822 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 822 823 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 823 849 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 849 854 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 854 855 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 855 863 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 863 932 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 932 933 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 933 949 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 949 970 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 970 971 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 971 989 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 989 1026 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1026 1027 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1027 1030 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1030 1049 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1049 1069 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-msg-mail gnus-data #("scipy-user@scipy.org" 0 20 ...)) 1069 1070 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1070 1071 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1071 1087 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1087 1141 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1141 1142 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1142 1154 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1154 1185 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1185 1186 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1186 1198 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1198 1227 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1227 1228 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1228 1246 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1246 1408 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1408 1409 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1409 1427 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1427 1568 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1568 1569 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1569 1583 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1583 1604 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1604 1605 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1605 1618 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1618 1649 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1649 1650 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1650 1661 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1661 1690 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1690 1691 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1691 1709 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1709 1891 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 1891 1892 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 1892 1910 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 1910 2084 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2084 2085 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2085 2103 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2103 2301 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2301 2302 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2302 2320 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2320 2566 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2566 2567 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2567 2578 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2578 2618 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2618 2619 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2619 2631 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2631 2632 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2632 2693 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-button-message-id gnus-data #("<1cd32cbb0911012155n4f460592ocf9ce02122f601c9@mail.gmail.com>" 0 61 ...)) 2693 2694 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2694 2715 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2715 2767 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2767 2768 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2768 2804 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2804 2805 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2805 2821 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2821 2871 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2871 2872 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2872 2926 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2926 2927 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2927 2937 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2937 2938 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2938 2952 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 2952 2993 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 2993 2994 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 2994 3010 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3010 3063 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3063 3064 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3064 3117 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3117 3118 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3118 3130 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3130 3151 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3151 3152 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3152 3170 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3170 3176 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3176 3177 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3177 3188 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3188 3193 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3193 3194 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3194 3202 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3202 3242 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3242 3243 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3243 3260 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3260 3262 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3262 3311 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/mailman/listinfo/scipy-user" 0 49 ...)) 3311 3313 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3313 3314 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3314 3315 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3315 3370 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=unsubscribe" 0 48 ...)) 3370 3371 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3371 3372 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3372 3385 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3385 3387 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3387 3429 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/pipermail/scipy-user" 0 42 ...)) 3429 3430 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3430 3431 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3431 3441 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3441 3443 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3443 3470 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user@scipy.org" 0 20 ...)) 3470 3471 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3471 3472 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3472 3482 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3482 3484 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3484 3532 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=help" 0 41 ...)) 3532 3533 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3533 3534 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3534 3549 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3549 3551 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3551 3600 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://mail.scipy.org/mailman/listinfo/scipy-user" 0 49 ...)) 3600 3602 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3602 3603 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3603 3604 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3604 3657 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback gnus-url-mailto gnus-data #("scipy-user-request@scipy.org?subject=subscribe" 0 46 ...)) 3657 3658 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3658 3659 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3659 3675 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3675 3704 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3704 3705 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3705 3715 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3715 3744 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3744 3745 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3745 3750 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3750 3805 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3805 3806 (original-date "Mon, 02 Nov 2009 10:37:26 +0100") 3806 3818 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-name) 3818 3820 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3820 3886 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content mouse-face highlight gnus-callback browse-url gnus-data #("http://permalink.gmane.org/gmane.comp.python.scientific.user/22682" 0 66 ...)) 3886 3887 (original-date "Mon, 02 Nov 2009 10:37:26 +0100" face gnus-header-content) 3887 3888 (face gnus-header-content) 3889 3909 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 4457 4467 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 5383 5393 (mouse-face highlight gnus-callback gnus-button-push gnus-data #<marker at 1 in *Article*>) 7632 7635 (display (image :type xpm :file "/usr/share/emacs/23.1/etc/images/smilies/smile.xpm" :ascent center) rear-nonsticky (display) gnus-image-category smiley)))
  org-remember(nil)
  call-interactively(org-remember nil nil)
#+end_example
** IDEA Generalise to different VCS by only using vc.el infrastructure
   Might be difficult to define a common interface for all VCS.
   The link name must also change. Maybe we should revert to
   file: and name the VCS in the search string?
** TODO report a useful error message when trying to follow a non-existing git link
   At the moment (v1.0) (I know, should be a git link), we get
   wrong argument type (stringp, nil), when no git dir exists.
** TODO org-git-insert-link-interacively: conditionally make file name relative
   To be consistent with =C-u C-c C-l= (org-insert-link):
#+begin_example
With a C-u prefix, prompts for a file to link to. The file name can
be selected using completion. The path to the file will be relative to the
current directory if the file is in the current directory or a subdirectory.
Otherwise, the link will be the absolute path as completed in the minibuffer
(i.e. normally ~/path/to/file).  You can configure this behavior using the
option `org-link-file-path-type'.

With two C-u prefixes, enforce an absolute path even if the file is in
the current directory or below.

With three C-u prefixes, negate the meaning of
`org-keep-stored-link-after-insertion'.
#+end_example
** TODO org-git-insert-link-interacively: implement completion
   Completion on:
   - Tag names
   - branch names
   - Date?
** DONE org-git-store-link: abbreviate file names
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-27 Tue 15:35]
   CLOCK: [2009-10-27 Tue 15:33]--[2009-10-27 Tue 15:35] =>  0:02
   :END:
   org-store-link does this
** DONE Create interactive store-link function
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-27 Tue 14:53]
   CLOCK: [2009-10-27 Tue 14:15]--[2009-10-27 Tue 14:53] =>  0:38
   :END:
   Interactively select file and write searchstring. Ideally with
   completion (maybe later).
** DONE Create function which stores link to local file in current branch at current date :PROJECT:
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-26 Mon 16:50]
   CLOCK: [2009-10-26 Mon 14:18]--[2009-10-26 Mon 16:46] =>  2:28
   CLOCK: [2009-10-22 Thu 17:40]--[2009-10-22 Thu 18:09] =>  0:29
   CLOCK: [2009-10-22 Thu 16:34]--[2009-10-22 Thu 17:08] =>  0:34
   CLOCK: [2009-10-22 Thu 16:14]--[2009-10-22 Thu 16:23] =>  0:09
   :END:
   e.g [[git:foo.txt::master@{2009-10-5}]]
** DONE Find out how magit knows about current branch
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-20 Tue 14:45]
   CLOCK: [2009-10-20 Tue 14:30]--[2009-10-20 Tue 14:45] =>  0:15
   :END:
** DONE Check out man pages of git-rev-parse
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-07-24 Fri 17:08]
   CLOCK: [2009-07-24 Fri 16:55]--[2009-07-24 Fri 17:08] =>  0:13
   :END:
   Find out the possibilities to specify a file in a specific
   branch and version. See [[id:83573d86-8df3-4f56-9927-a917e4b62509][Specifying objects]].
** DONE Check whether attachments care about commits
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-07-24 Fri 15:56]
   CLOCK: [2009-07-24 Fri 15:54]--[2009-07-24 Fri 15:56] =>  0:02
   :END:
   No they don't. (Only creating their own commits). No help
   from there.
** DONE Find out how to create new link types
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-07-24 Fri 15:54]
   CLOCK: [2009-07-24 Fri 15:46]--[2009-07-24 Fri 15:54] =>  0:08
   :END:
   See [[info:org:Adding%20hyperlink%20types][info:org:Adding hyperlink types]]
** DONE Find a way to get the specific xxx file mentioned above
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-07-24 Fri 15:45]
   CLOCK: [2009-07-24 Fri 15:30]--[2009-07-24 Fri 15:45] =>  0:15
   :END:
   =git show xxxantwort:xxx-antrag.tex= does the trick.
** DONE find out how to fill buffer with result of shell process     :ATTACH:
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-05 Mon 17:35]
   CLOCK: [2009-10-05 Mon 17:28]--[2009-10-05 Mon 17:35] =>  0:07
   CLOCK: [2009-10-01 Thu 16:30]--[2009-10-01 Thu 17:07] =>  0:37
   CLOCK: [2009-07-24 Fri 16:24]--[2009-07-24 Fri 17:03] =>  0:39
   CLOCK: [2009-07-24 Fri 15:58]--[2009-07-24 Fri 16:20] =>  0:22
   :END:
   :PROPERTIES:
   :Attachments: simple.el man.el org-git.el
   :ID:       19e759de-ea08-4848-9799-1303a5cc078f
   :END:
   Looking at simple.el (shell-command-on-region) and man.el
   (man) to find out how to call shell processes. Synchronous
   calling ist simpler. shell-command should simply work, though.
   I will simply use shell-command or call-process. Don't know
   whether we need a shell. Actually, I don't need to spawn a
   shell just to call git. Let's try =call-process=, see
   [[info:elisp:Synchronous%20Processes][info:elisp:Synchronous Processes]].

** DONE write test script executable from the shell
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-13 Tue 16:46]
   CLOCK: [2009-10-13 Tue 16:35]--[2009-10-13 Tue 16:46] =>  0:11
   :END:

** DONE Specify link syntax
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-07 Wed 14:40]
   - State "STARTED"    from "DONE"       [2009-10-07 Wed 14:24]
   CLOCK: [2009-10-07 Wed 14:24]--[2009-10-07 Wed 14:40] =>  0:16
   - State "DONE"       from "STARTED"    [2009-10-05 Mon 17:03]
   CLOCK: [2009-10-05 Mon 16:30]--[2009-10-05 Mon 17:03] =>  0:33
   :END:
** DONE find out how to create a new link type in org-mode
   :LOGBOOK:
   - State "DONE"       from "TODO"       [2009-10-05 Mon 17:35]
   :END:
   :PROPERTIES:
   :ID:       be9f8577-3e78-49c6-925c-090adc403fc6
   :END:
** DONE write test file in org-mode                                 :PROJECT:
   :LOGBOOK:
   - State "DONE"       from ""           [2009-10-13 Tue 17:09]
   - Note taken on [2009-10-06 Tue 18:07] \\
     First, we need to define the actual structure of the git link
     file and  test file
   :END:
*** DONE plan structure of git link and test file
    - Note taken on [2009-10-10 Sat 00:49] \\
      test is still failing because two subsequent links append to the buffer rather than delete first.
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-06 Tue 18:05]
   CLOCK: [2009-10-06 Tue 17:43]--[2009-10-06 Tue 18:04] =>  0:21
   CLOCK: [2009-10-05 Mon 17:51]--[2009-10-05 Mon 18:04] =>  0:13
   :END:
*** DONE implement bare git type
    :LOGBOOK:
    CLOCK: [2009-10-09 Fri 16:40]--[2009-10-09 Fri 17:46] =>  1:06
    CLOCK: [2009-10-09 Fri 15:35]--[2009-10-09 Fri 15:37] =>  0:02
    :END:
** DONE rewrite org-git-show link to use org-open-file
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-13 Tue 16:30]
   CLOCK: [2009-10-13 Tue 15:24]--[2009-10-13 Tue 16:30] =>  1:06
   - Note taken on [2009-10-12 Mon 16:59] \\
     branch savefile
   :END:
   This is so that external apps and internal image viewers are
   automatically called. We need a new specification for
   org-git-show and need to find a way to extract a filename from
   the commit (I think it is safe to restrict ourselves to file
   links). Unfortunately org-open-at-point does not return the
   buffer of the visited file (well it cannot, since it might be
   displayed in an external program).
** DONE find way to extract filename from commit part
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-13 Tue 15:18]
   - State "STARTED"    from "DONE"       [2009-10-13 Tue 15:13]
   CLOCK: [2009-10-13 Tue 15:13]--[2009-10-13 Tue 15:18] =>  0:05
   - State "DONE"       from "STARTED"    [2009-10-12 Mon 17:50]
   CLOCK: [2009-10-12 Mon 17:32]--[2009-10-12 Mon 17:50] =>  0:18
   :END:
   - links to diffs (commits) might be useful too. Let's see how
     magit handles these. At the moment we focus on file names
   - symbolic ref names are probably of no use for permanent
     storage. We can ignore those (but can also use HEAD etc. as
     file names). They are part of the ref before the path anyway
   - [X] if the commit part is simply a sha1, we have no information.
         We can just take the sha as filename
   - [X] A special case of the above are commits specified by the
     beginning of the commit-message (e.g. of the form =git
     show :/Delete=). These are specified by a colon followed
     immediately by a slash. In this case we can use the search
     string as a filename.
   - [X] For our most important case (suffix colon followed by a
     path) we can simply extract the part after the colon and use
     (file-name-nondirectory "lewis/foo") on that
   - [X] For a link to an index file in a merge (not very useful),
     taking the file name of the part after the last colon should
     again also work
** DONE write test git directory
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-06 Tue 17:41]
   :END:
** DONE rewriting history for private email address
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-09 Fri 16:39]
   CLOCK: [2009-10-09 Fri 16:25]--[2009-10-09 Fri 16:39] =>  0:14
   :END:
: git filter-branch --env-filter '
: export  GIT_AUTHOR_EMAIL="Reimar.Finken@gmx.de"
: export  GIT_COMMITTER_EMAIL="Reimar.Finken@gmx.de"
: '
** DONE Decide whether to write to a buffer or to a temporary file
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-13 Tue 15:20]
   CLOCK: [2009-10-07 Wed 14:41]--[2009-10-07 Wed 15:00] =>  0:19
   :END:
   I don't know whether one can view e.g. images (.png) directly
   in an emacs buffer. To my knowledge only temporary files are
   treated according to auto-mode-alist. In branch savefile I
   will use temporary files, which are then opened with org-open-file.
   later and first go with the temorary buffer route.
** DONE check whether viewing images also works
   :LOGBOOK:
   - State "DONE"       from "STARTED"    [2009-10-13 Tue 17:21]
   CLOCK: [2009-10-13 Tue 17:14]--[2009-10-13 Tue 17:21] =>  0:07
   :END:
** DONE Implement git link                                          :PROJECT:
   :LOGBOOK:
   - Note taken on [2009-10-14 Wed 17:21] \\
     branch gitlink
   - State "DONE"       from ""           [2009-10-14 Wed 17:20]
   :END:
*** DONE write git link function
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 17:20]
    CLOCK: [2009-10-14 Wed 17:15]--[2009-10-14 Wed 17:20] =>  0:05
    CLOCK: [2009-10-14 Wed 16:09]--[2009-10-14 Wed 16:50] =>  0:41
    :END:
*** DONE refactor existing code so that git link can call gitbare link infrastructure
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 16:09]
    - Note taken on [2009-10-14 Wed 16:09] \\
      using org-git-open-file-internal
    CLOCK: [2009-10-14 Wed 16:04]--[2009-10-14 Wed 16:09] =>  0:05
    :END:
*** DONE write helper function to split dir path into parent dir and rest
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 15:42]
    CLOCK: [2009-10-14 Wed 15:25]--[2009-10-14 Wed 15:42] =>  0:17
    CLOCK: [2009-10-14 Wed 14:27]--[2009-10-14 Wed 14:55] =>  0:28
    :END:
*** DONE write function which finds git-dir
     :LOGBOOK:
     - State "DONE"       from "STARTED"    [2009-10-14 Wed 15:59]
     CLOCK: [2009-10-13 Tue 17:22]--[2009-10-13 Tue 18:10] =>  0:48
     :END:
** DONE Find way not not load identical files multiple times        :PROJECT:
   :LOGBOOK:
   - State "DONE"       from ""           [2009-10-14 Wed 22:23]
   - Note taken on [2009-10-14 Wed 17:32] \\
     branch uniquelink
   :END:
   At the moment, following the same link multiple times
   generates a new temp directory and opens a new copy of the
   file. However, we cannot simply check for an existing buffer
   with the filename, since one important usecase is to open two
   versions of the same file. One could presumably make a hash of
   the file link, so that identical links are only opened once.
   One would still open separate copies of the same files found
   by different link types, though. The right way to do things
   would be to check whether the sha1 of the blob objects are the
   same. Here is one idea: Somehow find a way to get the sha1 of
   the corresponding blob, then use that to construct the temp
   dir.
*** DONE Find reliable test that no file is opened more than once
    :LOGBOOK:
    - State "DONE"       from "TODO"       [2009-10-14 Wed 22:07]
    :END:
*** DONE Make files read-only
    :LOGBOOK:
    - State "DONE"       from "TODO"       [2009-10-14 Wed 22:23]
    :END:
    Although this might clash with org-mode
*** DONE change org-git-open-file-internal to reuse existing files
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 18:02]
    CLOCK: [2009-10-14 Wed 17:54]--[2009-10-14 Wed 18:02] =>  0:08
    CLOCK: [2009-10-14 Wed 17:40]--[2009-10-14 Wed 17:53] =>  0:13
    :END:
*** DONE Find out how to check for existing files or dirs
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 17:40]
    CLOCK: [2009-10-14 Wed 17:37]--[2009-10-14 Wed 17:40] =>  0:03
    :END:
#+begin_example
 -- Function: file-accessible-directory-p dirname
     This function returns `t' if you have permission to open existing
     files in the directory whose name as a file is DIRNAME; otherwise
     (or if there is no such directory), it returns `nil'.  The value
     of DIRNAME may be either a directory name (such as `/foo/') or the
     file name of a file which is a directory (such as `/foo', without
     the final slash).
#+end_example
*** DONE Find out how to construct a temp directory with a given name
    :LOGBOOK:
    - State "DONE"       from "STARTED"    [2009-10-14 Wed 17:36]
    CLOCK: [2009-10-14 Wed 17:34]--[2009-10-14 Wed 17:36] =>  0:02
    :END:
    Temp dir is stored in variable =temporary-file-directory=
*** DONE Find out how to extract the sha1 of the blob for a given object reference
    :LOGBOOK:
    - State "DONE"       from "TODO"       [2009-10-14 Wed 14:26]
    :END:
    git-rev-parse does this job:
#+begin_example
The git-rev-parse(1) command is a low-level command that is occasionally useful for translating some name for a commit to the object name for that commit:

$git rev-parseorigin
e05db0fd4f31dde7005f075a84f96b360d05984b
#+end_example
** DONE decide how to display commits
   :LOGBOOK:
   - State "DONE"       from "TODO"       [2009-10-19 Mon 15:53]
   - Note taken on [2009-10-13 Tue 15:19] \\
     in a separate branch
   :END:
   We don't do anything special. Git links are only meant for
   files. At the moment it simply shows the commit message and
   the corresponding diff in a text file.
** DONE Decide whether we need special export treatment
   :LOGBOOK:
   - State "DONE"       from "TODO"       [2009-10-19 Mon 16:03]
   :END:
   See =export= argument in =org-add-link-type=. The right thing
   to do would be to checkout the particular file (as we already
   do) and export it. I might implement this later if somebody
   needs it.
